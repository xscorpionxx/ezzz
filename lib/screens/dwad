Expanded(child: Container(margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.025,right: MediaQuery.of(context).size.width*0.025),height: MediaQuery.of(context).size.height*0.07,child:active=="more"?  Container(
                decoration: BoxDecoration(gradient: LinearGradient(begin: Alignment.topCenter,end: Alignment.bottomCenter,colors: [Colors.green,Colors.blueAccent])) ,
                child: Column(children:[
                  Expanded(child: Container(child: SvgPicture.asset("svg/Vector.svg",fit: BoxFit.scaleDown,))),
                  Text("المزيد",style: TextStyle(color:Colors.white,fontSize: MediaQuery.of(context).size.width*0.03),)]),
              ):Container(
                child: InkWell(onTap: (){
                  Provider.of<Notifires>(context,listen: false).getindex(tabController, "more", 3, context);
                  Provider.of<Notifires>(context,listen: false).getprofile(context);
                },
                  child: Column(children:[
                    Expanded(child: SvgPicture.asset("svg/Vector.svg",fit: BoxFit.scaleDown,)),
                    Text("المزيد",style: TextStyle(color:Colors.black,fontSize: MediaQuery.of(context).size.width*0.03),)]),
                ),
              )))
              ,Expanded(child: Container(margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.025,right: MediaQuery.of(context).size.width*0.025),height: MediaQuery.of(context).size.height*0.07,child:active=="req"?  Container(
                decoration: BoxDecoration(gradient: LinearGradient(begin: Alignment.topCenter,end: Alignment.bottomCenter,colors: [Colors.green,Colors.blueAccent])) ,
                child: Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.005),
                  child: Column(children:[
                 Container(height: MediaQuery.of(context).size.height*0.03,child: Image(image :AssetImage("images/bar31.png"),fit: BoxFit.scaleDown,)),
             Container(child :Text("طلباتي",style: TextStyle(color:Colors.white,fontSize: MediaQuery.of(context).size.width*0.03),))]),
                ),
              ) :Container(
                child: InkWell(onTap: (){
                  Provider.of<Notifires>(context,listen: false).getindex(tabController, "req", 2, context);
                  Provider.of<Notifires>(context,listen: false).getmyorders( context);
                },
                  child: Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.005),
                    child: Column(children:[
                      Container(margin: EdgeInsets.all( MediaQuery.of(context).size.height*0.005),height: MediaQuery.of(context).size.height*0.03,child: Image(image :AssetImage("images/bar2.png"),fit: BoxFit.scaleDown,)),
                      Container(child: Text("طلباتي",style: TextStyle(color:Colors.black,fontSize: MediaQuery.of(context).size.width*0.03),))]),
                  ),
                ),
              )))
              ,Expanded(child: Container(margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.025,right: MediaQuery.of(context).size.width*0.025),height: MediaQuery.of(context).size.height*0.07,child:active=="favo"?  Container(
                decoration: BoxDecoration(gradient: LinearGradient(begin: Alignment.topCenter,end: Alignment.bottomCenter,colors: [Colors.green,Colors.blueAccent])) ,
                child: Column(children:[
                  Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),height: MediaQuery.of(context).size.height*0.03,child: Image(image : AssetImage( "images/bar21.png"),fit: BoxFit.scaleDown)),
                  Text("مفضلة",style: TextStyle(color:Colors.white,fontSize: MediaQuery.of(context).size.width*0.03),)]),
              ) :Container(
                child: InkWell(onTap: (){
                  print(MediaQuery.of(context).size.width*2/MediaQuery.of(context).size.height);
                  Provider.of<Notifires>(context,listen: false).getindex(tabController, "favo", 1, context);
                  Provider.of<Notifires>(context,listen: false).getfav(context);
                },
                  child: Column(children:[
                    Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),height: MediaQuery.of(context).size.height*0.03,child: Image(image : AssetImage( "images/bar3.png"),fit: BoxFit.scaleDown)),
                    Text("مفضلة",style: TextStyle(color:Colors.black,fontSize: MediaQuery.of(context).size.width*0.03),)]),
                ),
              ))),
              Expanded(child: Container(margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.025,right: MediaQuery.of(context).size.width*0.025),height: MediaQuery.of(context).size.height*0.07,child:active=="home"?  Container(
                decoration: BoxDecoration(gradient: LinearGradient(begin: Alignment.topCenter,end: Alignment.bottomCenter,colors: [Colors.green,Colors.blueAccent])) ,
                child: Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),
                  child: Column(children:[
                    Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.001),height: MediaQuery.of(context).size.height*0.03,child: SvgPicture.asset("images/home2azz.svg",fit: BoxFit.scaleDown,semanticsLabel: "dacasceqd",))
                    ,Text("الرئيسية",style: TextStyle(color:Colors.white,fontSize: MediaQuery.of(context).size.width*0.03),)]),
                ),
              ) :Container(
                child: InkWell(onTap: (){
                  Provider.of<Notifires>(context,listen: false).getindex(tabController, "home", 0, context);
                },child:Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),
                  child: Column(children:[
                    Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.001),height: MediaQuery.of(context).size.height*0.03,child: SvgPicture.asset("images/home1azz.svg",fit: BoxFit.scaleDown,semanticsLabel: "dacadadwsceqd",)),
                      Text("الرئيسية",style: TextStyle(color:Colors.black,fontSize: MediaQuery.of(context).size.width*0.03),)]),
                ),
                ),
              ))),

               value.stream.transform(utf8.decoder).listen((event) async {
                          Navigator.of(contexta).pop("dialog");
                          print("here");
                          var body = jsonDecode(event);
                          print(body);
                          if (body["status"] == true) {
                            alertmessage("true");
                          }
                          else {
                            alertmessage(body["msg"]);
                          }
                        });

                        ,decoration: BoxDecoration(borderRadius: BorderRadius.circular(30),color: Colors.blue),child: Row(children: [
                                  Expanded(flex: 2 ,child:  Container(alignment: Alignment.center,child: Column(children: [Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.035),child: Directionality(textDirection: TextDirection.rtl,child: Text("نوفر لك ذبائح تفريد وجملة",style: TextStyle(color: Colors.white,fontSize: MediaQuery.of(context).size.height*0.017),)),),
                                    Container(child: ElevatedButton(onPressed: (){},child: Text("المزيد",style: TextStyle(color: Colors.white,fontSize: MediaQuery.of(context).size.height*0.02)),),)],),)),
                                  Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1) ,width: MediaQuery.of(context).size.width*0.1,height: MediaQuery.of(context).size.width*0.2 ,child: ClipRRect( borderRadius: BorderRadius.circular(1000),child: Image(fit: BoxFit.fill,image:AssetImage("images/home0.jpeg") ,)),)),
                                ],),












                                import 'dart:io';
                                import 'package:dotted_border/dotted_border.dart';
                                import 'package:ezzproject/logic/addservice3.dart';
                                import 'package:flutter/cupertino.dart';
                                import 'package:flutter/material.dart';
                                import 'package:image_picker/image_picker.dart';
                                import 'package:smooth_page_indicator/smooth_page_indicator.dart';

                                class AddServices3 extends StatefulWidget{
                                  @override
                                  State<StatefulWidget> createState() {
                                    // TODO: implement createState
                                    return Stateaddservices3();
                                  }
                                }
                                class Stateaddservices3 extends State<AddServices3>{
                                  TextEditingController name ;
                                  TextEditingController detail ;
                                  TextEditingController price1 ;
                                  TextEditingController licence ;
                                  TextEditingController price2 ;
                                  TextEditingController id ;
                                  TextEditingController phone ;
                                  TextEditingController masaha ;
                                  TextEditingController name2 ;
                                  TextEditingController address ;
                                  TextEditingController ketchins ;
                                  GlobalKey<FormState> key ;
                                  var region1 = "المحافظة" ;
                                  var region2 = "المدينة" ;
                                  var region3 ="المنطقة";
                                  List region1list =["المحافظة"];
                                  List region2list =["المدينة"];
                                  List region3list =["المنطقة"];
                                  List region1back =[];
                                  List region2back =[];
                                  List region3back =[];
                                  Addservice3logic addservice3logic;
                                  getdata()async{
                                    var dataa = await addservice3logic.getplaces();
                                    print("gere");
                                    print(dataa);
                                    region1back = dataa["1"];
                                    region2back = dataa["2"];
                                    region2back = dataa["3"];
                                    for(int i =0 ; i<region1back.length ; i++){
                                      region1list.add(region1back[i]["name"].toString());
                                    }
                                    for(int a =0 ; a<region2back.length ; a++){
                                      region2list.add(region2back[a]["name"].toString());
                                    }
                                    for(int d =0 ; d<region3back.length ; d++){
                                      region3list.add(region3back[d]["name"].toString());
                                    }
                                    setState(() {});
                                  }
                                  @override
                                  void initState() {
                                    addservice3logic = new Addservice3logic(context);
                                    getdata();
                                    key = new GlobalKey<FormState>();
                                    name = new TextEditingController();
                                    detail = new TextEditingController();
                                    price1 = new TextEditingController();
                                    price2 = new TextEditingController();
                                    licence= new TextEditingController();
                                    id = new TextEditingController();
                                    phone = new TextEditingController();
                                    masaha = new TextEditingController();
                                    address= new TextEditingController();
                                    ketchins= new TextEditingController();
                                    super.initState();
                                  }
                                  File image ;
                                  List images =[null,null,null,null,null];
                                  chooseimage(i)async{
                                    if(i == null) {
                                      var image1 = await ImagePicker().pickImage(source: ImageSource.gallery);
                                      if (image1 != null) {
                                        image = File(image1.path);
                                        setState(() {});
                                      }
                                    }
                                    else{
                                      var image1 = await ImagePicker().pickImage(source: ImageSource.gallery);
                                      if (image1 != null) {
                                        images[i] = File(image1.path);
                                        setState(() {});
                                      }
                                    }
                                  }
                                  List features =[
                                    false,false,false,false,false,false,false,false
                                  ];
                                  List selectservice =[];
                                  List data= ["dadwa","WDad"];
                                  var daa = "dadwa";
                                  var accept=false;
                                  @override
                                  Widget build(BuildContext context) {
                                    // TODO: implement build
                                    return Scaffold(body: Container(width:  MediaQuery.of(context).size.width,height: MediaQuery.of(context).size.height,
                                      child: Form(key: key,
                                        child: ListView(children: [
                                          Container(width: MediaQuery.of(context).size.width,height: MediaQuery.of(context).size.height*0.15,child :Stack(children: [
                                            Container(width: MediaQuery.of(context).size.width,height: MediaQuery.of(context).size.height*0.15,
                                              decoration: BoxDecoration(color:Color.fromRGBO(42, 171, 227, 1),borderRadius: BorderRadius.only(bottomRight: Radius.circular(90),bottomLeft: Radius.circular(90))),child: Row(children: [
                                                Expanded(child: Container(margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.05),child: IconButton(icon: Icon(Icons.arrow_back,size: MediaQuery.of(context).size.height*0.04,color: Colors.white,),onPressed: (){},))),
                                                Expanded(flex: 5,child: Container(alignment: Alignment.center,child: Text("اضافة خدمة",style: TextStyle(color: Colors.white,fontSize: MediaQuery.of(context).textScaleFactor*18),))),
                                                Expanded(child: Container())
                                              ],),),
                                            Positioned( bottom: MediaQuery.of(context).size.height*0.04,left: MediaQuery.of(context).size.width*0.4 ,child : Container(width: MediaQuery.of(context).size.height*0.5,height: MediaQuery.of(context).size.height*0.5,decoration: BoxDecoration(color: Colors.white.withOpacity(0.3) , borderRadius: BorderRadius.circular(1000)),),)
                                          ],) ),
                                          Directionality(textDirection: TextDirection.rtl,
                                            child: Container( decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.05 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.1)
                                                ,child:ListTile(
                                                  title: DropdownButtonHideUnderline(
                                                      child: DropdownButton(hint: Text("نوع المكان",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                        // value: daa ==null?
                                                        //,items: data.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                        onChanged: (_) {
                                                          // val2 =_;
                                                          setState(() {});
                                                        },
                                                      )),
                                                )),
                                          )
                                          ,Directionality(textDirection: TextDirection.rtl,
                                            child: Container(padding:EdgeInsets.only(right: MediaQuery.of(context).size.width*0.02),decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.1),child: TextFormField(
                                               validator: addservice3logic.validate,controller: name,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),decoration: InputDecoration(border: InputBorder.none, hintStyle: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),hintText: "اسم المكان "),
                                            )),
                                          ),
                                        Container(child: Row(children: [
                                          Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                            child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.05)
                                                ,child:ListTile(
                                                  title: DropdownButtonHideUnderline(
                                                      child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                        child: DropdownButton(hint: Text("المنطقة",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                           value: region2
                                                          ,items: region2list.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                          onChanged: (_) {
                                                             region2 =_;
                                                            setState(() {});
                                                          },
                                                        ),
                                                      )),
                                                )),
                                          )),Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                            child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.05,right: MediaQuery.of(context).size.width*0.1)
                                                ,child:ListTile(
                                                  title: DropdownButtonHideUnderline(
                                                      child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                        child: DropdownButton(hint: Text("المدينة",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                           value: region3
                                                          ,items: region3list.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                          onChanged: (_) {
                                                            region3 =_;
                                                            setState(() {});
                                                          },
                                                        ),
                                                      )),
                                                )),
                                          ))
                                        ],),),
                                          Directionality(textDirection: TextDirection.rtl,
                                            child: Container(padding:EdgeInsets.only(right: MediaQuery.of(context).size.width*0.02),decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.1),child: TextFormField(
                                              validator: addservice3logic.validate,controller: address,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),maxLines: 2,minLines: 2 ,decoration: InputDecoration(border: InputBorder.none, hintStyle: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),hintText: "العنوان بالتفصيل "),
                                            )),
                                          ),
                                          Container(child: Row(children: [
                                            Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.05)
                                                  ,child:ListTile(
                                                    title: DropdownButtonHideUnderline(
                                                        child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                          child: DropdownButton(hint: Text("عدد الادوار",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                            // value: daa ==null?
                                                            //,items: data.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                            onChanged: (_) {
                                                              // val2 =_;
                                                              setState(() {});
                                                            },
                                                          ),
                                                        )),
                                                  )),
                                            ))
                                            ,Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container(padding: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.02) ,decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.05,right: MediaQuery.of(context).size.width*0.1)
                                                  ,child:TextFormField(
                                                    controller: masaha,keyboardType: TextInputType.number ,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),decoration: InputDecoration(border: InputBorder.none, hintStyle: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),hintText: "المساحة"),
                                                  )),
                                            )),
                                          ],),),
                                          Container(child: Row(children: [
                                            Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.05)
                                                  ,child:ListTile(
                                                    title: DropdownButtonHideUnderline(
                                                        child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                          child: DropdownButton(hint: Text("متاح لعدد",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                            // value: daa ==null?
                                                            //,items: data.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                            onChanged: (_) {
                                                              // val2 =_;
                                                              setState(() {});
                                                            },
                                                          ),
                                                        )),
                                                  )),
                                            ) )
                                            ,Expanded(child:Directionality(textDirection: TextDirection.rtl,
                                              child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.05,right: MediaQuery.of(context).size.width*0.1)
                                                  ,child:ListTile(
                                                    title: DropdownButtonHideUnderline(
                                                        child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                          child: DropdownButton(hint: Text("عدد الغرف",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                            // value: daa ==null?
                                                            //,items: data.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                            onChanged: (_) {
                                                              // val2 =_;
                                                              setState(() {});
                                                            },
                                                          ),
                                                        )),
                                                  )),
                                            )),
                                          ],),),
                                          Container(child: Row(children: [
                                            Expanded(child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container(padding: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.02) , decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.05)
                                                  ,child:TextFormField(
                                                    controller: ketchins,keyboardType: TextInputType.number ,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),decoration: InputDecoration(border: InputBorder.none, hintStyle: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),hintText: "عدد المطابخ"),
                                                  )),
                                            ) )
                                            ,Expanded(child:Directionality(textDirection: TextDirection.rtl,
                                                child: Container(height: MediaQuery.of(context).size.height*0.075, decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.05,right: MediaQuery.of(context).size.width*0.1)
                                                    ,child:ListTile(
                                                      title: DropdownButtonHideUnderline(
                                                          child: Container(height: MediaQuery.of(context).size.height*0.1,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),
                                                            child: DropdownButton(hint: Text("عدد دورات المياه",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),
                                                              // value: daa ==null?
                                                              //,items: data.map((e) => DropdownMenuItem(child: Text('$e'),value: e,)).toList(),
                                                              onChanged: (_) {
                                                                // val2 =_;
                                                                setState(() {});
                                                              },
                                                            ),
                                                          )),
                                                    )),
                                              )),
                                          ],),)
                                        ,Container(child: Divider(color: Colors.black54,),margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1,left:MediaQuery.of(context).size.width*0.1)),
                                          Container(alignment: Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.14,top:MediaQuery.of(context).size.height*0.001) ,child: Text("مميزات أخرى",style: TextStyle(color: Colors.blue,fontSize: MediaQuery.of(context).size.height*0.022),),)
                                          ,Container(height: MediaQuery.of(context).size.height*0.05,child: Row(children: [
                                            Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[0]=val;});} ,value:features[0] ,title:Container( alignment: Alignment.centerRight,child: Text("يوجد حاجز",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                            ,Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[1]=val;});} ,value:features[1] ,title:Container( alignment: Alignment.centerRight,child: Text("مسبح مفلتر",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                          ],),),
                                          Container(height: MediaQuery.of(context).size.height*0.05,child: Row(children: [
                                            Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[2]=val;});} ,value:features[2] ,title:Container( alignment: Alignment.centerRight,child: Text("متاح للعوائل",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                            ,Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[3]=val;});} ,value:features[3] ,title:Container( alignment: Alignment.centerRight,child: Text("متاح للشاب",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                          ],),),
                                          Container(height: MediaQuery.of(context).size.height*0.05,child: Row(children: [
                                            Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[4]=val;});} ,value:features[4] ,title:Container( alignment: Alignment.centerRight,child: Text("توفر منطقة العاب",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                            ,Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[5]=val;});} ,value:features[5] ,title:Container(alignment: Alignment.centerRight,child: Text("امكانية اقامة حفلات",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                          ],),),
                                          Container(height: MediaQuery.of(context).size.height*0.05,margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.02),child: Row(children: [
                                            Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[6]=val;});} ,value:features[6] ,title:Container( alignment: Alignment.centerRight,child: Text("مساحات خضراء",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                            ,Expanded(child: Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {features[7]=val;});} ,value:features[7] ,title:Container( alignment: Alignment.centerRight,child: Text("خدمة فندقية",style: TextStyle(color: Colors.black54,fontSize: MediaQuery.of(context).size.height*0.017),)),),))
                                          ],),)
                                          ,Container(child: Divider(color: Colors.black54,),margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1,left:MediaQuery.of(context).size.width*0.1))
                                          ,Container(alignment: Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1,top:MediaQuery.of(context).size.height*0.01) ,child: Text("الأسعار",style: TextStyle(color: Colors.blue,fontSize: MediaQuery.of(context).size.height*0.022),),)
                                          ,Container(height: MediaQuery.of(context).size.height*0.06 ,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1),child:Row(children: [
                                            Expanded(child: Container(alignment: Alignment.centerRight,child: Text("ريال",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),)),
                                            Expanded(flex: 4,child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container( padding:EdgeInsets.only(left: MediaQuery.of(context).size.width*0.03,bottom:MediaQuery.of(context).size.height*0.015 ),decoration: BoxDecoration(color: Colors.black12,borderRadius: BorderRadius.circular(50)),margin: EdgeInsets.only( right: MediaQuery.of(context).size.width*0.03,left: MediaQuery.of(context).size.width*0.05 ),child: Center(
                                                child: TextFormField(
                                                  keyboardType: TextInputType.number,controller: price1,textDirection: TextDirection.ltr,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015,color: Colors.blue),decoration: InputDecoration(border: InputBorder.none),
                                                ),
                                              )),
                                            ))
                                            ,Expanded(flex: 4,child: Container(alignment: Alignment.centerRight,child: Text("سعر التأجير في الأيام العادية",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),))
                                          ],)),
                                          Container(height: MediaQuery.of(context).size.height*0.06 ,margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,right: MediaQuery.of(context).size.width*0.1),child:Row(children: [
                                            Expanded(child: Container(alignment: Alignment.centerRight,child: Text("ريال",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),)),
                                            Expanded(flex: 4,child: Directionality(textDirection: TextDirection.rtl,
                                              child: Container( padding:EdgeInsets.only(left: MediaQuery.of(context).size.width*0.03,bottom:MediaQuery.of(context).size.height*0.015 ),decoration: BoxDecoration(color: Colors.black12,borderRadius: BorderRadius.circular(50)),margin: EdgeInsets.only( right: MediaQuery.of(context).size.width*0.03,left: MediaQuery.of(context).size.width*0.05 ),child: Center(
                                                child: TextFormField(
                                                  keyboardType: TextInputType.number,controller: price2,textDirection: TextDirection.ltr,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015,color: Colors.blue),decoration: InputDecoration(border: InputBorder.none),
                                                ),
                                              )),
                                            ))
                                            ,Expanded(flex: 4,child: Container(alignment: Alignment.centerRight,child: Text("سعر التأجير في نهاية الاسبوع",style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.017),),))
                                          ],))

                                          ,Container(child: Divider(color: Colors.black54,),margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1,left:MediaQuery.of(context).size.width*0.1))
                                          ,Container(alignment: Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.12,top:MediaQuery.of(context).size.height*0.001) ,child: Text("وصف المكان",style: TextStyle(color: Colors.blue,fontSize: MediaQuery.of(context).size.height*0.022),),),
                                          Directionality(textDirection: TextDirection.rtl,
                                            child: Container(padding:EdgeInsets.only(right: MediaQuery.of(context).size.width*0.02),decoration: BoxDecoration(border: Border.all(color: Colors.black38),borderRadius: BorderRadius.circular(5)),margin: EdgeInsets.only( top:MediaQuery.of(context).size.height*0.01 ,left:  MediaQuery.of(context).size.width*0.07,right: MediaQuery.of(context).size.width*0.1),child: TextFormField(
                                              controller: detail,style: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),minLines: 2,maxLines: 3 ,decoration: InputDecoration(border: InputBorder.none, hintStyle: TextStyle(fontSize: MediaQuery.of(context).size.height*0.015),hintText: "وصف المكان "),
                                            )),
                                          )
                                          ,Container(alignment: Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.1,top:MediaQuery.of(context).size.height*0.01) ,child: Text("رفع صور للمكان",style: TextStyle(color: Colors.blue,fontSize: MediaQuery.of(context).size.height*0.022),),)
                                          , InkWell(onTap: ()=>chooseimage(null),
                                            child: Container(height: MediaQuery.of(context).size.height*0.18 ,margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.09,top: MediaQuery.of(context).size.height*0.02,right:MediaQuery.of(context).size.width*0.09 ),child:image != null?Container(
                                              child: Image( fit: BoxFit.fill,image: FileImage(image),),
                                            ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                              child: Center(child: Column(children: [
                                                Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),child: Icon( Icons.cloud_upload,size: MediaQuery.of(context).size.height*0.07,)),
                                                Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01),child: Text("اضافة الصورة الرئيسية للمكان"),)
                                              ],),),
                                            ) ),
                                          ),
                                          Container(margin: EdgeInsets.only(top: MediaQuery.of(context).size.height*0.01 ,left: MediaQuery.of(context).size.width*0.1,right: MediaQuery.of(context).size.width*0.1),height: MediaQuery.of(context).size.height*0.09,child: Row(children: [
                                            Expanded(child:InkWell(onTap: ()=>chooseimage(0),
                                              child: Container(margin: EdgeInsets.all( MediaQuery.of(context).size.width*0.01 ),child: images[0] != null?Container(
                                                child: Image( fit: BoxFit.fill,image: FileImage(images[0]),),
                                              ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                                child: Center(child: Container(child: Icon(Icons.add,color: Colors.blue,)),),
                                              ) ),
                                            )),
                                            Expanded(child:InkWell(onTap: ()=>chooseimage(1),
                                              child: Container(margin: EdgeInsets.all( MediaQuery.of(context).size.width*0.01 ),child: images[1] != null?Container(
                                                child: Image( fit: BoxFit.fill,image: FileImage(images[1]),),
                                              ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                                child: Center(child: Container(child:  Icon(Icons.add,color: Colors.blue,)),),
                                              ) ),
                                            )),
                                            Expanded(child:InkWell(onTap: ()=>chooseimage(2),
                                              child: Container(margin: EdgeInsets.all( MediaQuery.of(context).size.width*0.01 ),child: images[2] != null?Container(
                                                child: Image( fit: BoxFit.fill,image: FileImage(images[2]),),
                                              ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                                child: Center(child: Container(child:  Icon(Icons.add,color: Colors.blue,),),),
                                              ) ),
                                            )),
                                            Expanded(child:InkWell(onTap: ()=>chooseimage(3),
                                              child: Container(margin: EdgeInsets.all( MediaQuery.of(context).size.width*0.01 ),child: images[3] != null?Container(
                                                child: Image( fit: BoxFit.fill,image: FileImage(images[3]),),
                                              ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                                child: Center(child: Container(child: Icon(Icons.add,color: Colors.blue,),),),
                                              ) ),
                                            )),
                                            Expanded(child:InkWell(onTap: ()=>chooseimage(4),
                                              child: Container(margin: EdgeInsets.all( MediaQuery.of(context).size.width*0.01 ),child: images[4] != null?Container(
                                                child: Image( fit: BoxFit.fill,image: FileImage(images[4]),),
                                              ) : DottedBorder(color: Colors.black.withOpacity(0.2),
                                                child: Center(child: Container(child:  Icon(Icons.add,color: Colors.blue,),),),
                                              ) ),
                                            ))
                                          ],),),
                                          Container(margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: CheckboxListTile(activeColor: Colors.green,onChanged: (val){setState(() {accept=val;});} ,value:accept ,title:Container( alignment: Alignment.centerRight,child: Text("اقبل جميع الشروط والاحكام في هذا التطبيق",style: TextStyle(color: Colors.black38,fontSize: MediaQuery.of(context).size.height*0.02),)),),)
                                          ,Container(height: MediaQuery.of(context).size.height*0.07,alignment: Alignment.center,decoration: BoxDecoration(color: Colors.green),margin: EdgeInsets.all(MediaQuery.of(context).size.width*0.1),
                                            child:Text("اضافة", style: TextStyle(color: Colors.white,fontSize: MediaQuery.of(context).size.height*0.025)) ,)

                                        ],),
                                      ),
                                    ),);
                                  }
                                }

                                Container(
                                              child: detaildata["Products"].length==0?Container(height: MediaQuery.of(context).size.height*0.6,width: MediaQuery.of(context).size.width,child: Center(child: Text("لا يوجد عناصر في المتجر"),),) :Container(margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.05,left: MediaQuery.of(context).size.width*0.01,right: MediaQuery.of(context).size.width*0.01 ,top: MediaQuery.of(context).size.height*0.02),child: GridView.builder(scrollDirection: Axis.horizontal,gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(crossAxisCount: 2,
                                                childAspectRatio: (1.3),),itemCount: detaildata["Products"].length,itemBuilder: (context,i){
                                                print(detaildata["Products"][i]);
                                                return Container(child:detaildata["Products"][i]["Status"].toString().trim()!= "متاح"?Container(
                                                  margin: EdgeInsets.all(MediaQuery.of(context).size.width*0.01),height: MediaQuery.of(context).size.height*0.15,decoration: BoxDecoration(borderRadius: BorderRadius.circular(20),color: Colors.white),child:Stack(
                                                    children:[ Container(
                                                      child: Column(children: [
                                                      Container(width: MediaQuery.of(context).size.width,height: MediaQuery.of(context).size.height*0.19,child: Image(fit: BoxFit.fill,image: NetworkImage(detaildata["Products"][i]["Photo"]),),),
                                                      Container( margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),child : Row(children:[ Expanded(child: Container( alignment:Alignment.centerLeft ,margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.03),child: Directionality(textDirection: TextDirection.rtl,child: Text(detaildata["Products"][i]["Price"].toString(),style: TextStyle(color: Colors.red,fontSize: MediaQuery.of(context).size.width*0.03),)),)),
                                                        Expanded(child: Container(alignment:Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: Text(detaildata["Products"][i]["Name"].toString(),style: TextStyle(color: Colors.black,fontSize: MediaQuery.of(context).size.width*0.035),),))])),
                                                ],),
                                                    ),Container(height: MediaQuery.of(context).size.height*0.15,color: Colors.black54.withOpacity(0.1),child: Center(child: Text("غير متاح"),),)],
                                                  ),
                                                )
                                                  : Container(margin: EdgeInsets.all(MediaQuery.of(context).size.width*0.01),height: MediaQuery.of(context).size.height*0.15,decoration: BoxDecoration(borderRadius: BorderRadius.circular(20),color: Colors.white),child:Column(children: [
                                                    Container(width: MediaQuery.of(context).size.width,height: MediaQuery.of(context).size.height*0.19,child: Image(fit: BoxFit.fill,image: NetworkImage(detaildata["Products"][i]["Photo"]),),),
                                                    Container( margin: EdgeInsets.only(bottom: MediaQuery.of(context).size.height*0.01),child : Row(children:[ Expanded(child: Container( alignment:Alignment.centerLeft ,margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.03),child: Directionality(textDirection: TextDirection.rtl,child: Text(detaildata["Products"][i]["Price"].toString(),style: TextStyle(color: Colors.red,fontSize: MediaQuery.of(context).size.width*0.03),)),)),
                                                      Expanded(child: Container(alignment:Alignment.centerRight,margin: EdgeInsets.only(right: MediaQuery.of(context).size.width*0.03),child: Text(detaildata["Products"][i]["Name"].toString(),style: TextStyle(color: Colors.black,fontSize: MediaQuery.of(context).size.width*0.035),),))])),
                                                    InkWell(onTap: ()=>Provider.of<Notifires>(context,listen: false).plus(i, num,detaildata["Products"][i]["Price"] , context) ,child: Container(decoration: BoxDecoration(borderRadius: BorderRadius.circular(5),color: Color.fromRGBO(69, 190, 0, 1)) ,margin: EdgeInsets.only(left: MediaQuery.of(context).size.width*0.05,right:MediaQuery.of(context).size.width*0.05 ) ,padding: EdgeInsets.all(MediaQuery.of(context).size.width*0.01) ,child: Center(child: Text("اضافة للعربة",style: TextStyle(color: Colors.white),),),)),
                                                  ],)
                                                    ,),
                                                );
                                              }),),
                                            )